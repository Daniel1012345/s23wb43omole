"use strict";var Musical=require("../models/musical");exports.musical_detail=function(t,r){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("detail"+t.params.id),e.prev=1,e.next=4,regeneratorRuntime.awrap(Musical.findById(t.params.id));case 4:n=e.sent,r.send(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),r.status(500),r.send('{"error": document for id '.concat(t.params.id," not found"));case 12:case"end":return e.stop()}},null,null,[[1,8]])},exports.musical_create_post=function(t,r){var n,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Musical).instrument_type=t.body.instrument_type,n.brand=t.body.brand,n.cost=t.body.cost,e.prev=4,e.next=7,regeneratorRuntime.awrap(n.save());case 7:a=e.sent,r.send(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),r.status(500),r.send('{"error": '.concat(e.t0,"}"));case 15:case"end":return e.stop()}},null,null,[[4,11]])},exports.musical_delete=function(e,t){t.send("NOT IMPLEMENTED: Musical delete DELETE "+e.params.id)},exports.musical_update_put=function(t,r){var n,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("update on id ".concat(t.params.id," with body ").concat(JSON.stringify(t.body))),e.prev=1,e.next=4,regeneratorRuntime.awrap(musical_update_put.findById(t.params.id));case 4:return n=e.sent,t.body.muscial_type&&(n.musical_type=t.body.musical_type),t.body.cost&&(n.cost=t.body.cost),t.body.size&&(n.size=t.body.size),t.body.checkboxsale?n.sale=!0:n.same=!1,e.next=11,regeneratorRuntime.awrap(n.save());case 11:a=e.sent,console.log("Sucess "+a),r.send(a),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),r.status(500),r.send('{"error": '.concat(e.t0,": Update for id ").concat(t.params.id," failed"));case 20:case"end":return e.stop()}},null,null,[[1,16]])},exports.musical_list=function(e,t){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Musical.find());case 3:themusical=e.sent,t.send(themusical),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t.status(500),t.send('{"error": '.concat(e.t0,"}"));case 11:case"end":return e.stop()}},null,null,[[0,7]])},exports.musical_view_all_Page=function(e,t){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Musical.find());case 3:themusical=e.sent,t.render("musical",{title:"Musical Search Results",results:themusical}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t.status(500),t.send('{"error": '.concat(e.t0,"}"));case 11:case"end":return e.stop()}},null,null,[[0,7]])};
//# sourceMappingURL=musical.min.js.map
